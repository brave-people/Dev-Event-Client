(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[460],{216:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/create",function(){return n(4191)}])},4307:function(e,t,n){"use strict";var r=n(5893),o=n(7294),u=n(5334),i=n(6087);t.Z=function(e){var t=e.title,n=e.children,c=(0,i.G)().data;return(0,r.jsxs)(o.Suspense,{fallback:(0,r.jsx)("div",{children:"\ub85c\ub529\uc911..."}),children:[(0,r.jsx)(u.Z,{user:c}),(0,r.jsx)("h2",{children:t}),n]})}},4191:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return Z},default:function(){return C}});var r=n(5893),o=n(7294),u=n(1163),i=n(2649),c=n(2902),a=n(4307),s=n(4051),f=n.n(s),l=n(6489),p=n(4988);function d(e,t,n,r,o,u,i){try{var c=e[u](i),a=c.value}catch(s){return void n(s)}c.done?t(a):Promise.resolve(a).then(r,o)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}var b=function(){var e,t=(e=f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://dev-brave-people.o-r.kr/admin/v1","/register/id"),{method:"POST",headers:v({"Content-Type":"application/json",Authorization:l.parse(document.cookie).access_token},(0,p.P)()),body:JSON.stringify(t)}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var u=e.apply(t,n);function i(e){d(u,r,o,i,c,"next",e)}function c(e){d(u,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),m=n(5158);function y(e,t,n,r,o,u,i){try{var c=e[u](i),a=c.value}catch(s){return void n(s)}c.done?t(a):Promise.resolve(a).then(r,o)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}var w=function(){var e,t=(e=f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://dev-brave-people.o-r.kr/admin/v1","/register/email"),{method:"POST",headers:j({"Content-Type":"application/json",Authorization:l.parse(document.cookie).access_token},(0,p.P)()),body:JSON.stringify(t)}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var u=e.apply(t,n);function i(e){y(u,r,o,i,c,"next",e)}function c(e){y(u,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();function x(e,t,n,r,o,u,i){try{var c=e[u](i),a=c.value}catch(s){return void n(s)}c.done?t(a):Promise.resolve(a).then(r,o)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){O(e,t,n[t])}))}return e}var P=function(){var e,t=(e=f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://dev-brave-people.o-r.kr/admin/v1","/register/user"),{method:"POST",headers:_({"Content-Type":"application/json",Authorization:l.parse(document.cookie).access_token},(0,p.P)()),body:JSON.stringify(t)}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var u=e.apply(t,n);function i(e){x(u,r,o,i,c,"next",e)}function c(e){x(u,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),S=n(2419),k=function(){var e=(0,u.useRouter)(),t=(0,o.useState)(""),n=t[0],i=t[1],c=(0,o.useState)(""),a=c[0],s=c[1],f=(0,o.useState)(""),l=f[0],p=f[1],d=(0,o.useState)(""),h=d[0],v=d[1],y=(0,o.useState)(""),g=y[0],j=y[1],x=(0,o.useState)(""),O=x[0],_=x[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("form",{onSubmit:function(t){t.preventDefault(),P({name:n,user_id:a,email:l,password:h}).then((function(t){if(t.status_code===m.$p)return j("\ucd95\ud558\ud574\uc694! \uac00\uc785\uc5d0 \uc131\uacf5\ud558\uc600\uc5b4\uc694 \ud83d\ude0e 2\ucd08 \ud6c4 \ud648\uc73c\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."),setTimeout((function(){return e.push("/admin/event")}),2e3);_(t.message)}))},children:[(0,r.jsx)(S.Z,{type:"text",text:"\uc774\ub984",value:n,onChange:function(e){i(e.target.value)},isRequired:!0}),(0,r.jsx)(S.Z,{type:"text",text:"\uc544\uc774\ub514",value:a,onChange:function(e){s(e.target.value),j(""),b({user_id:e.target.value}).then((function(e){if(e.status_code!==m.ti)return j(e.message)}))},isRequired:!0}),(0,r.jsx)(S.Z,{type:"email",text:"\uc774\uba54\uc77c",value:l,onChange:function(e){var t=e.target.value;p(t),j(""),/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)?w({email:t}).then((function(e){if(e.status_code!==m.ti)return j(e.message)})):j("\uc774\uba54\uc77c \ud615\uc2dd\uc774 \uc544\ub2d9\ub2c8\ub2e4.")},isRequired:!0}),(0,r.jsx)(S.Z,{type:"password",text:"\ud328\uc2a4\uc6cc\ub4dc",value:h,onChange:function(e){v(e.target.value)},isRequired:!0}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("button",{type:"submit",className:"form__button form__button--center w-20 inline-flex items-center justify-center my-4 p-2 rounded-md text-white bg-blue-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:"\uac00\uc785"})})]}),O&&(0,r.jsx)("p",{children:O}),g&&(0,r.jsx)("p",{children:g})]})},N=new i.Su,Z=!0,C=function(e){var t=e.data,n=e.error,s=(0,u.useRouter)();return(0,o.useEffect)((function(){n&&(alert(n),s.push("/auth/signIn")),(null===t||void 0===t?void 0:t.access_token)&&(0,c.Z)(document,t)}),[]),(0,r.jsx)(i.aH,{client:N,children:(0,r.jsx)(a.Z,{title:"\uacc4\uc815 \uc0dd\uc131",children:(0,r.jsx)(k,{})})})}}},function(e){e.O(0,[492,900,774,888,179],(function(){return t=216,e(e.s=t);var t}));var t=e.O();_N_E=t}]);