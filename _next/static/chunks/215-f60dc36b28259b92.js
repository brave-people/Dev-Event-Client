"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[215],{8572:function(e,n,t){var r=t(5893),o=t(7294),a=t(5334),i=t(6087);n.Z=function(e){var n=e.title,t=e.children,s=(0,i.G)().data;return(0,r.jsxs)(o.Suspense,{fallback:(0,r.jsx)("div",{children:"\ub85c\ub529\uc911..."}),children:[(0,r.jsx)(a.Z,{user:s}),(0,r.jsxs)("section",{className:"p-8 wrap__box--bg",children:[(0,r.jsx)("h1",{className:"mb-4 text-3xl font-bold",children:n}),t]})]})}},6274:function(e,n,t){t.d(n,{Z:function(){return T}});var r=t(5893),o=t(4184),a=t.n(o),i=t(9198),s=t.n(i),c=t(2419),l=function(e){var n=e.time,t=e.setTime;return(0,r.jsx)(s(),{selected:n,onChange:function(e){return e&&t(e)},showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:30,timeCaption:"Time",dateFormat:"h:mm aa",className:"appearance-none w-50 h-10 border rounded border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"})},u=t(4051),d=t.n(u),f=t(7294),m=t(3129),g=t.n(m),p=t(6489),v=t(4988);function h(e,n,t,r,o,a,i){try{var s=e[a](i),c=s.value}catch(l){return void t(l)}s.done?n(c):Promise.resolve(c).then(r,o)}function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){b(e,n,t[n])}))}return e}var y=function(){var e,n=(e=d().mark((function e(n){var t,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.fileType,r=n.body,e.next=3,fetch("".concat("http://dev-brave-people.o-r.kr/admin/v1","/images/").concat(t),{method:"POST",headers:x({Authorization:p.parse(document.cookie).access_token},(0,v.P)()),body:r}).then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){h(a,r,o,i,s,"next",e)}function s(e){h(a,r,o,i,s,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}();function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function _(e,n,t,r,o,a,i){try{var s=e[a](i),c=s.value}catch(l){return void t(l)}s.done?n(c):Promise.resolve(c).then(r,o)}function w(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){_(a,r,o,i,s,"next",e)}function s(e){_(a,r,o,i,s,"throw",e)}i(void 0)}))}}function k(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);i=!0);}catch(c){s=!0,o=c}finally{try{i||null==t.return||t.return()}finally{if(s)throw o}}return a}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return j(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N=function(e){var n=e.coverImageUrl,t=e.setCoverImageUrl,o="image-upload",a=(0,f.useRef)(null),i=(0,f.useRef)(n),s=(0,f.useRef)(null),c=(0,f.useState)({url:"",name:""}),l=c[0],u=c[1],m=(0,f.useState)({url:"",name:""}),p=m[0],v=m[1],h=(0,f.useState)(null),b=h[0],x=h[1];(0,f.useEffect)((function(){a.current&&x(new(g())(a.current,{aspectRatio:16/9}))}),[l]);var j=function(){var e=w(d().mark((function e(n){var t,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.file,_(),(r=new FileReader).onload=w(d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u({url:null===(n=r.result)||void 0===n?void 0:n.toString(),name:t.name});case 2:case"end":return e.stop()}}),e)}))),r.readAsDataURL(t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),_=function(){u({url:"",name:""}),v({url:"",name:""})},N=function(e){var n;e.preventDefault(),e.stopPropagation();var t=null===e||void 0===e||null===(n=e.dataTransfer)||void 0===n?void 0:n.files[0];t&&j({file:t})},S=function(e){e.preventDefault(),e.stopPropagation()};return(0,f.useEffect)((function(){if(s.current)return s.current.addEventListener("drop",N),s.current.addEventListener("dragover",S),function(){var e,n;null===(e=s.current)||void 0===e||e.removeEventListener("drop",N),null===(n=s.current)||void 0===n||n.removeEventListener("dragover",S)}}),[s]),(0,r.jsxs)(r.Fragment,{children:[i.current&&(0,r.jsxs)("section",{className:"mb-4",children:[(0,r.jsx)("p",{children:"\uae30\uc874 \uc774\ubbf8\uc9c0"}),(0,r.jsx)("img",{src:i.current,alt:"\uae30\uc874\uc774\ubbf8\uc9c0"})]}),!l.url&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{id:o,name:"image-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:function(e){var n=e.target.files;return n&&j({file:n[0]})}}),(0,r.jsxs)("label",{htmlFor:o,ref:s,className:"drag__box",children:[(0,r.jsx)("p",{className:"drag__box__text--large",children:"\ub4dc\ub798\uadf8 \ud639\uc740 \ud074\ub9ad\uc73c\ub85c \ud30c\uc77c\uc744 \uc5c5\ub85c\ub4dc \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),(0,r.jsx)("p",{className:"drag__box__text--small",children:"(jpg, png, gif less than 3MB)"})]})]}),(0,r.jsxs)("section",{className:"drag__section",children:[l.url&&(0,r.jsx)("div",{className:"drag__section--image",children:(0,r.jsx)("img",{ref:a,src:l.url,alt:l.name})}),p.url&&(0,r.jsx)("div",{className:"drag__section--image",children:(0,r.jsx)("img",{src:p.url,alt:p.name})})]}),l.url&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("button",{onClick:_,className:"mr-4 p-2 text-red-500 font-bold bg-gray-50 rounded",children:"\uc774\ubbf8\uc9c0 \uc0ad\uc81c"}),(0,r.jsx)("button",{onClick:function(e){var n,r;e.preventDefault();var o=(null===(n=null===b||void 0===b?void 0:b.getCroppedCanvas())||void 0===n?void 0:n.toDataURL())||"";v({url:o,name:l.name}),null===(r=null===b||void 0===b?void 0:b.getCroppedCanvas())||void 0===r||r.toBlob(function(){var e=w(d().mark((function e(n){var r,o,a,i,s,c,u,f,m,g;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new FormData,!n){e.next=27;break}for(r.append("images",n,l.name),o=!0,a=!1,i=void 0,e.prev=4,s=Array.from(r)[Symbol.iterator]();!(o=(c=s.next()).done);o=!0)u=k(c.value,2),f=u[0],m=u[1],r.set(f,m);e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),a=!0,i=e.t0;case 12:e.prev=12,e.prev=13,o||null==s.return||s.return();case 15:if(e.prev=15,!a){e.next=18;break}throw i;case 18:return e.finish(15);case 19:return e.finish(12);case 20:return e.next=22,y({fileType:"DEV_EVENT",body:r});case 22:if(!(g=e.sent).message){e.next=25;break}return e.abrupt("return",alert(g.message));case 25:if(!g.file_url){e.next=27;break}return e.abrupt("return",t(g.file_url));case 27:case"end":return e.stop()}}),e,null,[[4,8,12,20],[13,,15,19]])})));return function(n){return e.apply(this,arguments)}}())},className:"p-2 text-blue-500 font-bold bg-gray-50 rounded",children:"\uc790\ub974\uae30"})]})]})},S=t(4719);function O(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function C(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return O(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return O(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var P=function(e){var n=e.tags,t=e.setTags,o=e.allTags,a=(0,f.useRef)(null),i=(0,f.useState)(""),s=i[0],c=i[1],l=(0,f.useState)(!1),u=l[0],d=l[1],m=function(e){var r=e.target.value,a=o.find((function(e){return e.tag_name===r}));if(a){if(n.length>4)return alert("\ud0dc\uadf8\ub294 5\uac1c\uae4c\uc9c0\ub9cc \ub4f1\ub85d \uac00\ub2a5\ud574\uc694!");t((function(e){return Array.from(new Set(C(e).concat([a.tag_name])))}))}d(!1)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("label",{htmlFor:"tag",className:"form__content__title inline-block text-base font-medium text-gray-600",children:["\ud0dc\uadf8",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{ref:a,id:"tag",type:"text",value:s,onChange:function(e){c(e.target.value)},onClick:function(){return d(!0)},onKeyPress:function(e){if("Enter"===e.code){var r;e.preventDefault(),e.stopPropagation();var o=e.target.value.replaceAll(/\s/g,"");if(n.length>4)return alert("\ud0dc\uadf8\ub294 5\uac1c\uae4c\uc9c0\ub9cc \ub4f1\ub85d \uac00\ub2a5\ud574\uc694!");t((function(e){return Array.from(new Set(C(e).concat([o])))})),null===(r=a.current)||void 0===r||r.focus(),c(""),d(!1)}},className:"appearance-none w-full h-10 border rounded border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",autoComplete:"off"}),u&&(null===o||void 0===o?void 0:o.length)>0&&(0,r.jsx)("div",{className:"form__content--all-tags--popup z-10",children:o.map((function(e){return(0,r.jsx)("button",{value:e.tag_name,onClick:m,children:e.tag_name},e.id)}))}),(null===n||void 0===n?void 0:n.length)>0&&(0,r.jsx)("div",{className:"form__content--all-tags",children:n.map((function(e,n){return(0,r.jsxs)("button",{onClick:function(){return function(e){var n;t((function(n){return n.filter((function(n){return n!==e}))})),null===(n=a.current)||void 0===n||n.focus()}(e)},className:"rounded py-1 px-3 mr-3 text-blue-600 bg-white-400 border border-blue-600 font-bold text-sm flex items-center",children:[e,(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 inline-block ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})]},n)}))})]})},T=function(e){var n=e.title,t=e.changeTitle,o=e.error,i=e.description,u=e.changeDescription,d=e.organizer,f=e.changeOrganizer,m=e.eventLink,g=e.changeEventLink,p=e.tags,v=e.setTags,h=e.allTags,b=e.startDate,x=e.setStartDate,y=e.startTime,j=e.setStartTime,_=e.endDate,w=e.setEndDate,k=e.endTime,O=e.setEndTime,C=e.coverImageUrl,T=e.setCoverImageUrl,z=e.saveForm,A=e.isModify,E=void 0!==A&&A;return(0,r.jsxs)("form",{className:"form--large",children:[(0,r.jsxs)("div",{className:"form__content",children:[(0,r.jsx)(c.Z,{text:"\uc81c\ubaa9",value:n,onChange:t,isRequired:!0,customClass:{"border-red-400":o.title},children:o.title&&(0,r.jsx)(S.Z,{})}),(0,r.jsxs)("div",{className:"form__content__input",children:[(0,r.jsx)("label",{htmlFor:"description",className:"form__content__title inline-block text-base text-gray-600",children:"\ud589\uc0ac \uc124\uba85"}),(0,r.jsx)("input",{id:"description",type:"text",value:i,onChange:u,className:"appearance-none w-full h-10 border rounded border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"})]}),(0,r.jsxs)("div",{className:"form__content__input",children:[(0,r.jsxs)("label",{htmlFor:"organizer",className:"form__content__title inline-block text-base text-gray-600",children:["\uc8fc\ucd5c",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{id:"organizer",type:"text",value:d,onChange:f,required:!0,className:a()("appearance-none w-full h-10 border rounded border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",{"border-red-400":o.title})}),o.organizer&&(0,r.jsx)(S.Z,{})]}),(0,r.jsxs)("div",{className:"form__content__input",children:[(0,r.jsxs)("label",{htmlFor:"event_link",className:"form__content__title inline-block text-base text-gray-600",children:["\ud589\uc0ac \ub9c1\ud06c",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{id:"event_link",type:"text",value:m,onChange:g,required:!0,className:a()("appearance-none w-full h-10 border rounded border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",{"border-red-400":o.title})}),o.eventLink&&(0,r.jsx)(S.Z,{})]}),(0,r.jsx)("div",{className:a()("form__content__input relative",{"form__content--modify":E}),children:(0,r.jsx)(P,{tags:p,setTags:v,allTags:h})}),(0,r.jsxs)("div",{className:a()("form__content--date mb-6",{"mt-8":p.length&&!E}),children:[(0,r.jsx)("span",{className:"form__content__title inline-block text-base text-gray-600",children:"\uc2dc\uc791 \uc77c\uc2dc"}),(0,r.jsx)(s(),{dateFormat:"yyyy/MM/dd",selected:b,onChange:function(e){return e&&x(e)},className:"appearance-none w-80 h-10 border rounded border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"}),(0,r.jsx)("span",{className:"w-40 inline-block text-base text-gray-600 ml-4",children:"\uc2dc\uc791 \uc2dc\uac04"}),(0,r.jsx)(l,{time:y,setTime:j})]}),(0,r.jsxs)("div",{className:"form__content--date",children:[(0,r.jsx)("span",{className:"form__content__title inline-block text-base text-gray-600",children:"\uc885\ub8cc \uc77c\uc2dc"}),(0,r.jsx)(s(),{dateFormat:"yyyy/MM/dd",selected:_,minDate:b,onChange:function(e){return e&&w(e)},className:"appearance-none w-80 h-10 border rounded border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"}),(0,r.jsx)("span",{className:"w-40 inline-block text-base text-gray-600 ml-4",children:"\uc885\ub8cc \uc2dc\uac04"}),(0,r.jsx)(l,{time:k,setTime:O})]}),(0,r.jsx)("div",{className:"my-8"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"form__content__title inline-block text-base text-gray-600",children:"\ub300\ud45c \uc774\ubbf8\uc9c0"}),(0,r.jsx)(N,{coverImageUrl:C,setCoverImageUrl:T})]})]}),(0,r.jsxs)("div",{className:"relative pt-8 pb-6",children:[(0,r.jsx)("button",{type:"submit",onClick:z,className:"form__button form__button--center w-20 inline-flex items-center justify-center my-4 p-2 rounded-md text-white bg-blue-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:"\ud655\uc778"}),(0,r.jsx)("a",{href:"/admin/event",className:"form__button form__button--right w-20 inline-flex items-center justify-center my-4 p-2 rounded-md text-gray-400 text-white bg-gray-300 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:"\ucde8\uc18c"})]})]})}},4719:function(e,n,t){t.d(n,{k:function(){return s}});var r=t(5893),o=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}var s=function(e){var n=e.title,t=e.organizer,r=e.eventLink,a=e.tags,s=(0,o.useState)({title:!1,organizer:!1,eventLink:!1,tags:!1}),c=s[0],l=s[1];return{error:c,validateForm:function(){l((function(e){return i({},e,{title:!n})})),l((function(e){return i({},e,{organizer:!t})})),l((function(e){return i({},e,{eventLink:!r})})),l((function(e){return i({},e,{tags:!a.length})}))}}};n.Z=function(){return(0,r.jsxs)("p",{className:"form__content--error",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"\ud544\uc218 \uc785\ub825\uac12\uc785\ub2c8\ub2e4"]})}},6693:function(e,n,t){t.d(n,{L:function(){return u}});var r=t(4051),o=t.n(r),a=t(6489),i=t(4988);function s(e,n,t,r,o,a,i){try{var s=e[a](i),c=s.value}catch(l){return void t(l)}s.done?n(c):Promise.resolve(c).then(r,o)}function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){c(e,n,t[n])}))}return e}var u=function(){var e,n=(e=o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://dev-brave-people.o-r.kr/admin/v1","/events/tags"),{method:"POST",headers:l({"Content-Type":"application/json",Authorization:a.parse(document.cookie).access_token},(0,i.P)()),body:JSON.stringify(n)}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){s(a,r,o,i,c,"next",e)}function c(e){s(a,r,o,i,c,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}()}}]);